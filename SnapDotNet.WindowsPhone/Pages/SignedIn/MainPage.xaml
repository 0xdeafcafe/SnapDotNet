<Page
	x:Class="SnapDotNet.Apps.Pages.SignedIn.MainPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d"
	Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" 
	RequestedTheme="Dark">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="80"/>
			<RowDefinition Height="1*"/>
			<RowDefinition Height="100"/>
			<RowDefinition Height="25"/>
		</Grid.RowDefinitions>

		<!--Image Grid.Row="0" Grid.RowSpan="3" Source="http://i.imgur.com/WLYZhR4.jpg" Stretch="UniformToFill"/-->
		<CaptureElement x:Name="CapturePreview" Grid.Row="0" Grid.RowSpan="4" 
						Stretch="UniformToFill" RenderTransformOrigin="0.5,0.5" />

		<TextBlock Grid.Row="1" VerticalAlignment="Bottom" HorizontalAlignment="Left"
				   Text="0s" Opacity="0.4" Margin="10,0,0,10" FontSize="100"
				   x:Name="VideoTimerBlock" Visibility="Collapsed"/>

		<Grid Grid.Row="0">
			<Grid.RowDefinitions>
				<RowDefinition Height="25" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>

			<StackPanel Grid.Row="1" HorizontalAlignment="Center" Orientation="Horizontal">
				<Button Style="{StaticResource WpSmallRoundButtonStyle}" Command="{Binding ViewSnapsCommand}">
					<Image Source="ms-appx:///Assets/Icons/appbar.box.layered.png" Margin="5" />
				</Button>
				<ToggleButton Style="{StaticResource WpSmallRoundToggleButtonStyle}"
						x:Name="ButtonFrontFacing"
						Checked="ButtonFrontFacing_CheckChanged" Unchecked="ButtonFrontFacing_CheckChanged">
					<Image x:Name="FrontFacingImage" Source="ms-appx:///Assets/Icons/appbar.camera.flip.png" Margin="5"/>
				</ToggleButton>
				<ToggleButton Style="{StaticResource WpSmallRoundToggleButtonStyle}"
						x:Name="FlashButton"
						Checked="FlashButton_CheckChanged" Unchecked="FlashButton_CheckChanged">
					<Image x:Name="FlashImage" Source="ms-appx:///Assets/Icons/appbar.camera.flash.png" Margin="5" />
				</ToggleButton>
				<Button Style="{StaticResource WpSmallRoundButtonStyle}"
						Click="ButtonFriends_OnClick">
					<Image Source="ms-appx:///Assets/Icons/appbar.group.png" Margin="5" />
				</Button>
			</StackPanel>
		</Grid>

		<Grid Grid.Row="2">
			<StackPanel HorizontalAlignment="Center" VerticalAlignment="Bottom" Orientation="Horizontal" Margin="0,0,0,10">
				<!--<Button Style="{StaticResource WpLargeRoundButtonStyle}" IsEnabled="False"
						x:Name="ButtonRecord"
						Holding="ButtonRecord_OnHolding">
					<Border Background="Red" BorderThickness="0" CornerRadius="15" 
							Width="25" Height="25" />
				</Button>-->
                <Button Style="{StaticResource WpLargeRoundButtonStyle}" IsEnabled="False"
						x:Name="ButtonCamera"
						Click="ButtonPhoto_OnClick"
                        Holding="ButtonRecord_OnHolding">
                    <Grid>
                        <Border Background="Red" BorderThickness="0" CornerRadius="15"
							Width="25" Height="25" 
                                x:Name="RecordingIcon" Visibility="Collapsed"/>
                        <Canvas Width="76" Height="76" x:Name="CameraIcon">
                            <Path Width="34.8333" Height="28.5" Canvas.Left="20.5833" Canvas.Top="22.1667" Stretch="Fill" Fill="#FFFFFFFF" Data="F1 M 52.25,26.9167C 53.9989,26.9167 55.4167,28.3344 55.4167,30.0833L 55.4167,47.5C 55.4167,49.2489 53.9989,50.6667 52.25,50.6667L 23.75,50.6667C 22.0011,50.6667 20.5833,49.2489 20.5833,47.5L 20.5833,30.0833C 20.5833,28.3344 22.0011,26.9167 23.75,26.9167L 30.0833,26.9167C 30.0833,24.2933 32.21,22.1667 34.8333,22.1667L 41.1667,22.1667C 43.79,22.1667 45.9167,24.2933 45.9167,26.9167L 52.25,26.9167 Z M 38,33.25C 34.5022,33.25 31.6667,36.0855 31.6667,39.5834C 31.6667,43.0812 34.5022,45.9167 38,45.9167C 41.4978,45.9167 44.3333,43.0812 44.3333,39.5834C 44.3333,36.0855 41.4978,33.25 38,33.25 Z M 38,34.8334C 40.6233,34.8334 42.75,36.96 42.75,39.5834C 42.75,42.2067 40.6233,44.3333 38,44.3333C 35.3766,44.3333 33.25,42.2067 33.25,39.5834C 33.25,36.96 35.3766,34.8334 38,34.8334 Z M 26.9167,33.25L 26.9167,30.4792L 24.1458,30.4792L 24.1458,33.25L 26.9167,33.25 Z "/>
                        </Canvas>
                    </Grid>
				</Button>
			</StackPanel>
		</Grid>
	</Grid>

	<Page.BottomAppBar>
		<CommandBar ClosedDisplayMode="Minimal" Opacity="0.4">
			<CommandBar.SecondaryCommands>
				<AppBarButton x:Uid="AppBarRefresh" Label="refresh" Command="{Binding RefreshCommand}" />
				<AppBarButton x:Uid="AppBarSettings" Label="settings" Command="{Binding GoToSettingsCommand}" />
			</CommandBar.SecondaryCommands>
		</CommandBar>
	</Page.BottomAppBar>
</Page>
